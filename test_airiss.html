<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>AIRISS Test</title>
</head>
<body>
    <h1>AIRISS 객체 테스트</h1>
    <button onclick="testAIRISS()">테스트 실행</button>
    <div id="result"></div>
    
    <script>
        function testAIRISS() {
            const result = document.getElementById('result');
            
            // iframe으로 실제 페이지 로드
            const iframe = document.createElement('iframe');
            iframe.src = 'http://localhost:8000/';
            iframe.style.width = '100%';
            iframe.style.height = '600px';
            document.body.appendChild(iframe);
            
            setTimeout(() => {
                try {
                    const airiss = iframe.contentWindow.AIRISS;
                    if (airiss) {
                        result.innerHTML = '<h2>✅ AIRISS 객체 발견!</h2>';
                        result.innerHTML += '<h3>사용 가능한 메서드:</h3><ul>';
                        for (let key in airiss) {
                            if (typeof airiss[key] === 'function') {
                                result.innerHTML += `<li>${key}</li>`;
                            }
                        }
                        result.innerHTML += '</ul>';
                    } else {
                        result.innerHTML = '<h2>❌ AIRISS 객체를 찾을 수 없습니다</h2>';
                    }
                } catch (e) {
                    result.innerHTML = `<h2>❌ 오류 발생: ${e.message}</h2>`;
                }
            }, 2000);
        }
    </script>
</body>
</html>